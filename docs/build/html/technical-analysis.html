

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Techinical analysis &mdash; algotrading 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Fundamental analysis" href="fundamental-analysis.html" />
    <link rel="prev" title="Data science basics" href="data-science-basics.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> algotrading
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="how-to-use-this.html">How to use this</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">Part 1: Intro to Algo Trading</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-science-basics.html">Data science basics</a></li>
</ul>
<p class="caption"><span class="caption-text">Part 2: Core trading strategies</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Techinical analysis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#intro-to-technical-analysis">Intro to technical analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chart-patterns">Chart patterns</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#line-chart">Line chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#candlesticks-chart">Candlesticks chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#open-high-low-close-ohcl-chart">Open-high-low-close (OHCL) chart</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scaling">Scaling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#arithmetic-scaling">Arithmetic scaling</a></li>
<li class="toctree-l4"><a class="reference internal" href="#semi-logarithmic-scaling">Semi-logarithmic scaling</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#trend-analysis">Trend analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#technical-indicators">Technical indicators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#trend-indicators">Trend indicators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#moving-average-convergence-divergence-macd">Moving Average Convergence Divergence (MACD)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#moving-averages-ma">Moving Averages (MA)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#parabolic-stop-and-reverse-parabolic-sar">Parabolic Stop and Reverse (Parabolic SAR)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#momentum-indicators">Momentum indicators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#commodity-channel-index-cci">Commodity Channel Index (CCI)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#relative-strength-index-rsi">Relative Strength Index (RSI)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#rate-of-change-roc">Rate of Change (ROC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stochastic-oscillator-stc">Stochastic Oscillator (STC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#true-strength-index-tsi">True Strength Index (TSI)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#money-flow-index-mfi">Money Flow Index (MFI)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#william-r">William %R</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#volatility-indicators">Volatility indicators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#bollinger-bands">Bollinger Bands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#average-true-range">Average True Range</a></li>
<li class="toctree-l4"><a class="reference internal" href="#standard-deviation">Standard Deviation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#volume-indicators">Volume indicators</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#chaikin-oscillator">Chaikin Oscillator</a></li>
<li class="toctree-l4"><a class="reference internal" href="#on-balance-volume-obv">On-Balance Volume (OBV)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#volume-rate-of-change">Volume Rate of Change</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fundamental-analysis.html">Fundamental analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="evaluation-metrics.html">Evaluation metrics</a></li>
</ul>
<p class="caption"><span class="caption-text">Part 3: Machine Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="bankruptcy-prediction.html">Bankruptcy prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="property-price-prediction.html">Property Price Prediction</a></li>
<li class="toctree-l1"><a class="reference internal" href="sentiment-analysis.html">Sentiment analysis</a></li>
</ul>
<p class="caption"><span class="caption-text">Others</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="acknowledgement.html">Acknowledgement</a></li>
<li class="toctree-l1"><a class="reference internal" href="about-the-author.html">About the author</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">algotrading</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Techinical analysis</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/technical-analysis.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="techinical-analysis">
<h1>Techinical analysis<a class="headerlink" href="#techinical-analysis" title="Permalink to this headline">¶</a></h1>
<p>In this tutorial, you will learn:</p>
<ul class="simple">
<li><p>The basics of technical analysis</p></li>
<li><p>Technical analysis charts</p></li>
<li><p>What are the common technical indicators</p></li>
<li><p>How to implement technical indicators</p></li>
</ul>
<div class="section" id="intro-to-technical-analysis">
<h2>Intro to technical analysis<a class="headerlink" href="#intro-to-technical-analysis" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">As we have discussed in the first tutorial, technical analysis is a methodology for
predicting price movement through the study of market action in the past. Technical
analysis most commonly applies to price changes, but some technicians also track other
data such as trading volume and open interest figures. Within the industry, there exist
a tons of patterns and signals that have been developed by researchers in order to
conduct technical analysis trading. Some technical indicators are primarily focused on
identifying the current market trend, while some are aimed at spotting patterns in
historical patterns.</div>
</div>
<p>In general, technicians consider the following types of indicators:</p>
<ul class="simple">
<li><p>Price trends</p></li>
<li><p>Chart analysis</p></li>
<li><p>Volume indicators</p></li>
<li><p>Momentum indicators</p></li>
<li><p>Oscillators</p></li>
<li><p>Moving averages</p></li>
</ul>
<div class="line-block">
<div class="line">In the upcoming tutorials for technical analysis, we will learn how to construct and
analyse charts with the help of programming; and to build and implement different
technical indicators widely used in the market.</div>
</div>
<p><strong>Requirements:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://pypi.org/project/pandas/">pandas</a></p></li>
<li><p><a class="reference external" href="https://matplotlib.org">matplotlib</a></p></li>
<li><p><a class="reference external" href="https://numpy.org/">numpy</a></p></li>
</ul>
</div>
<div class="section" id="chart-patterns">
<h2>Chart patterns<a class="headerlink" href="#chart-patterns" title="Permalink to this headline">¶</a></h2>
<div class="myownstyle admonition">
<p class="admonition-title">Definition</p>
<div class="line-block">
<div class="line"><strong>Bullish signal</strong> means a signal to buy.</div>
<div class="line"><strong>Bearish signal</strong> means a signal to sell.</div>
</div>
</div>
<div class="section" id="line-chart">
<h3>Line chart<a class="headerlink" href="#line-chart" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="candlesticks-chart">
<h3>Candlesticks chart<a class="headerlink" href="#candlesticks-chart" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Candlestick charts originated in Japan over 100 years before the West developed the
bar and point-and-figure charts. In the 1700s, a Japanese man named Homma discovered
that, while there was a link between price and the supply and demand of rice,
the markets were strongly influenced by the emotions of traders. Candlesticks show
that emotion by visually representing the size of price moves with different colors.
Traders use the candlesticks to make trading decisions based on regularly
occurring patterns that help forecast the short-term direction of the price.</div>
</div>
<div class="figure align-center" id="id3">
<a class="reference internal image-reference" href="_images/Candlestick.png"><img alt="&quot;Candlestick components.&quot;" src="_images/Candlestick.png" style="width: 500px; height: 320px;" /></a>
<p class="caption"><span class="caption-text"><span class="raw-html"><br /></span>
Explanation of candlestick components. <a class="footnote-reference brackets" href="#id2" id="id1">1</a></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="open-high-low-close-ohcl-chart">
<h3>Open-high-low-close (OHCL) chart<a class="headerlink" href="#open-high-low-close-ohcl-chart" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="scaling">
<h3>Scaling<a class="headerlink" href="#scaling" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">There are two types of scales for plotting charts - <strong>arithmetic</strong> or <strong>semi-logarithmic</strong>.
As most of us who have studied science/mathematics should know, examples of logarithmic
scales include growth of microbes, mortality rate due to epidemics and so on. The
difference in scale can completely alter the shape of the chart even though it is
plotted using the same set of data. Semi-logarithmic charts are sometimes more
preferrable in order to overcome the weaknesses inherent in arithmetic charts.</div>
</div>
<div class="section" id="arithmetic-scaling">
<h4>Arithmetic scaling<a class="headerlink" href="#arithmetic-scaling" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">In arithmetic or linear charts, both x and y axes scales are plotted at an equal distance.</div>
</div>
<div class="myownstyle admonition">
<p class="admonition-title">Key points</p>
<ul class="simple">
<li><p>On a linear scale, as the distance in the axis increases the corresponding
value also increases linearly.</p></li>
<li><p>When the values of data fluctuate between extremely small values and very
large values – the linear scale will <strong>miss out the smaller values</strong> thus
conveying a wrong picture of the underlying phenomenon.</p></li>
</ul>
</div>
</div>
<div class="section" id="semi-logarithmic-scaling">
<h4>Semi-logarithmic scaling<a class="headerlink" href="#semi-logarithmic-scaling" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">A semi-log plot is a graph where the data in one axis is on logarithmic scale
(either x axis or y axis), and data in the other axis is on normal scale (i.e. linear scale).</div>
</div>
<div class="myownstyle admonition">
<p class="admonition-title">Key points</p>
<ul class="simple">
<li><p>On a logarithmic scale, as the distance in the axis increases the corresponding
value increases exponentially.</p></li>
<li><p>With logarithmic scale, <strong>both smaller valued data and bigger valued data can be captured</strong>
in the plot more accurately to provide a holistic view.</p></li>
</ul>
</div>
<p>Therefore, semi-logarithmic charts can be of immense help especially when plotting <strong>long-term charts</strong>,
or when the price points show significant volatility even in short-term charts. The underlying chart patterns
will be revealed more clearly in semi-logarithmic scale charts.</p>
</div>
</div>
</div>
<div class="section" id="trend-analysis">
<h2>Trend analysis<a class="headerlink" href="#trend-analysis" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="technical-indicators">
<h2>Technical indicators<a class="headerlink" href="#technical-indicators" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">The implementation of the below indicators could all be found in <code class="code docutils literal notranslate"><span class="pre">code/technical-analysis_python/</span></code> in
the repository.</div>
</div>
<p>In general, there are 2 categories of indicators:</p>
<ul class="simple">
<li><p><strong>Leading</strong> - They give trade signals when the trend is about to started, hence they use shorter
periods in their calculations. Examples are MACD and RSI.</p></li>
<li><p><strong>Lagging</strong> - They follow the price action, and thus gives a signal after a trend or a reversal
started. Examples are Moving Averages and Bollinger Bands.</p></li>
</ul>
<div class="line-block">
<div class="line">By calculating the technical indicators, we could create rules in order to generate entry points (i.e. buy and sell
signals) in the market, and evaluate the performance of such a strategy using a <strong>backtester</strong>.</div>
</div>
<div class="myownstyle admonition">
<p class="admonition-title">Definition</p>
<div class="line-block">
<div class="line"><strong>Backtesting</strong> is the process of applying a trading strategy
to historical data in order to evaluate the performance of the strategy.</div>
</div>
</div>
<div class="line-block">
<div class="line">You could try running a strategy in the repository by:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># in terminal</span>
<span class="n">cd</span> <span class="n">code</span><span class="o">/</span><span class="n">technical</span><span class="o">-</span><span class="n">analysis_python</span>
<span class="n">python</span> <span class="n">main_macd_crossover</span><span class="o">.</span><span class="n">py</span> <span class="c1"># run macd in the backtester</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">The following provides the explanation and equations for all the example strategies featured
in the repository.</div>
</div>
<div class="section" id="trend-indicators">
<h3>Trend indicators<a class="headerlink" href="#trend-indicators" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Trend indicators measure the direction and strength of a trend, using
some form of price averaging to establish a baseline.</div>
</div>
<div class="myownstyle admonition">
<p class="admonition-title">Definition</p>
<div class="line-block">
<div class="line"><strong>Exponential Moving Average (EMA)</strong> (a.k.a. exponentially weighted moving average)
is a type of moving average (MA) that places a greater weight and significance on the most recent data points.</div>
</div>
</div>
<div class="section" id="moving-average-convergence-divergence-macd">
<h4>Moving Average Convergence Divergence (MACD)<a class="headerlink" href="#moving-average-convergence-divergence-macd" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Moving Average Convergence Divergence (MACD) indicator is used to reveal changes in strength, direction, momentum and
duration of a trend in a stock’s price.</div>
</div>
<div class="math notranslate nohighlight">
\[\text{MACD} = \text{12-Period EMA} − \text{26-Period EMA}\]</div>
<p>One of the simplest strategy established with MACD, is to identify MACD <strong>crossovers</strong>. The rules are as follows.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: MACD rises above the signal line</p></li>
<li><p><strong>Sell signal</strong>: MACD falls below the signal line</p></li>
</ul>
</div>
<p>It is easy to calculate the EMA with pandas:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get adjusted close column</span>
<span class="n">close</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span>

<span class="n">exp1</span> <span class="o">=</span> <span class="n">close</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">exp2</span> <span class="o">=</span> <span class="n">close</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="mi">26</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;MACD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">exp1</span> <span class="o">-</span> <span class="n">exp2</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><code class="code docutils literal notranslate"><span class="pre">span</span></code> specifies the time span, and <code class="code docutils literal notranslate"><span class="pre">adjust=False</span></code> means the
exponentially weighted function is calculated recursively (as we do not need
a decaying adjustment factor for beginning periods).</div>
</div>
<div class="math notranslate nohighlight">
\[\text{Signal Line} = \text{9-day EMA of MACD Line}\]</div>
<p>To plot the signal line:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Signal line&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;MACD&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="moving-averages-ma">
<h4>Moving Averages (MA)<a class="headerlink" href="#moving-averages-ma" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Moving Averages (MA) are used to identify current trends and trend reversals, as well as
to set up support and resistance levels.</div>
</div>
<p>We could estalish a simple trading strategy making use of two moving averages:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: shorter-term MA crosses above the longer-term MA <strong>(golden cross)</strong></p></li>
<li><p><strong>Sell signal</strong>: shorter-term MA crosses below the longer-term MA <strong>(dead/death cross)</strong></p></li>
</ul>
</div>
<p>Here is an example of how to plotting the two MAs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create short simple moving average over the short window</span>
<span class="n">signals</span><span class="p">[</span><span class="s1">&#39;short_mavg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">short_window</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Create long simple moving average over the long window</span>
<span class="n">signals</span><span class="p">[</span><span class="s1">&#39;long_mavg&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="n">long_window</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">We could define the <code class="code docutils literal notranslate"><span class="pre">short_window</span></code> and <code class="code docutils literal notranslate"><span class="pre">long_window</span></code> on our own, for example as setting
<code class="code docutils literal notranslate"><span class="pre">short_window</span> <span class="pre">=</span> <span class="pre">40</span></code> and <code class="code docutils literal notranslate"><span class="pre">long_window</span> <span class="pre">=</span> <span class="pre">40</span></code>.</div>
</div>
<p>And then we could generate signals based on the two line plots:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate signals</span>
<span class="n">signals</span><span class="p">[</span><span class="s1">&#39;signal&#39;</span><span class="p">][</span><span class="n">short_window</span><span class="p">:]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">signals</span><span class="p">[</span><span class="s1">&#39;short_mavg&#39;</span><span class="p">][</span><span class="n">short_window</span><span class="p">:]</span>
                                            <span class="o">&gt;</span> <span class="n">signals</span><span class="p">[</span><span class="s1">&#39;long_mavg&#39;</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">short_window</span><span class="p">:],</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)</span>

<span class="n">signals</span><span class="p">[</span><span class="s1">&#39;positions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">signals</span><span class="p">[</span><span class="s1">&#39;signal&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="parabolic-stop-and-reverse-parabolic-sar">
<h4>Parabolic Stop and Reverse (Parabolic SAR)<a class="headerlink" href="#parabolic-stop-and-reverse-parabolic-sar" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Parabolic Stop and Reverse (Parabolic SAR) indicator used to find potential reversals in the market price direction.</div>
</div>
<div class="line-block">
<div class="line">We need to calculate the <strong>rising SAR</strong> and <strong>falling SAR</strong> respectively:</div>
</div>
<p><strong>(i) Rising SAR (Uptrend)</strong></p>
<div class="math notranslate nohighlight">
\[\text{Current SAR} = \text{Prior SAR} + \text{Prior AF} \times (\text{Prior EP} - \text{Prior SAR})\]</div>
<div class="line-block">
<div class="line">where:</div>
</div>
<ul class="simple">
<li><p><strong>Prior SAR</strong>: The SAR value for previous period.</p></li>
<li><p><strong>Extreme Point (EP)</strong>: The highest high of the current uptrend.</p></li>
<li><p><strong>Acceleration Factor (AF)</strong>: Starting at 0.02, increases by 0.02 each time the extreme point makes a new high.
AF can only reach a maximum of 0.2, no matter how long the uptrend extends.</p></li>
</ul>
<div class="line-block">
<div class="line">Note that for rising SAR, the SAR can never be above the prior two periods’ lows.
Should SAR be above one of those lows, use the lowest of the two for SAR.</div>
</div>
<p><strong>(ii) Falling SAR (Downtrend)</strong></p>
<div class="math notranslate nohighlight">
\[\text{Current SAR} = \text{Prior SAR} + \text{Prior AF} \times (\text{Prior EP} - \text{Prior SAR})\]</div>
<div class="line-block">
<div class="line">where:</div>
</div>
<ul class="simple">
<li><p><strong>Prior SAR:</strong> The SAR value for previous period.</p></li>
<li><p><strong>Extreme Point (EP):</strong> The lowest low of the current downtrend.</p></li>
<li><p><strong>Acceleration Factor (AF):</strong> Starting at 0.02, increases by 0.02 each time the extreme point
makes a new low. AF can only reach a maximum of 0.2, no matter how long the downtrend extends.</p></li>
</ul>
<div class="line-block">
<div class="line">Note that for falling SAR, the SAR can never be below the prior two periods’ highs.
Should SAR be below one of those highs, use the highest of the two for SAR.</div>
</div>
<p>We generate signals based on the rising and falling SARs.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: if falling SAR goes below the price</p></li>
<li><p><strong>Sell signal</strong>: if rising SAR goes above the price</p></li>
</ul>
</div>
<div class="line-block">
<div class="line">In the code, we first need to extract the high / low / closing prices column from the dataframe,
and initialise the arrays for storing the rising SAR and falling SAR:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array_high</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">])</span>
<span class="n">array_low</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">])</span>
<span class="n">array_close</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">])</span>

<span class="n">psar</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">psarbull</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">psarbear</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>

<span class="n">bull</span> <span class="o">=</span> <span class="kc">True</span> <span class="c1"># flag to indicate saving value for rising SAR</span>
<span class="n">af</span> <span class="o">=</span> <span class="n">initial_af</span> <span class="c1"># initialise acceleration factor</span>
<span class="n">max_af</span> <span class="o">=</span> <span class="mf">0.2</span>
<span class="n">ep</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># extreme price</span>
<span class="n">hp</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># extreme high</span>
<span class="n">lp</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1"># extreme low</span>
</pre></div>
</div>
<p>Then, traversing each row in the dataframe, we could calculate rising SAR and falling SAR at the same time:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">)):</span>
  <span class="k">if</span> <span class="n">bull</span><span class="p">:</span>
      <span class="c1"># Rising SAR</span>
      <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">af</span> <span class="o">*</span> <span class="p">(</span><span class="n">hp</span> <span class="o">-</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
  <span class="k">else</span><span class="p">:</span>
      <span class="c1"># Falling SAR</span>
      <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">af</span> <span class="o">*</span> <span class="p">(</span><span class="n">lp</span> <span class="o">-</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>

    <span class="n">reverse</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Check reversion point</span>
    <span class="k">if</span> <span class="n">bull</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">bull</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">hp</span>
            <span class="n">lp</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">af</span> <span class="o">=</span> <span class="n">initial_af</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
            <span class="n">bull</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">reverse</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lp</span>
            <span class="n">hp</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
            <span class="n">af</span> <span class="o">=</span> <span class="n">initial_af</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">reverse</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">bull</span><span class="p">:</span>
            <span class="c1"># Extreme high makes a new high</span>
            <span class="k">if</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">hp</span><span class="p">:</span>
                <span class="n">hp</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">af</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">af</span> <span class="o">+</span> <span class="n">initial_af</span><span class="p">,</span> <span class="n">max_af</span><span class="p">)</span>

            <span class="c1"># Check if SAR goes abov prior two periods&#39; lows.</span>
            <span class="c1"># If so, use the lowest of the two for SAR.</span>
            <span class="k">if</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Extreme low makes a new low</span>
            <span class="k">if</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lp</span><span class="p">:</span>
                <span class="n">lp</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                <span class="n">af</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">af</span> <span class="o">+</span> <span class="n">initial_af</span><span class="p">,</span> <span class="n">max_af</span><span class="p">)</span>

            <span class="c1"># Check if SAR goes below prior two periods&#39; highs.</span>
            <span class="c1"># If so, use the highest of the two for SAR.</span>
            <span class="k">if</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]:</span>
                <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span>

    <span class="c1"># Save rising SAR</span>
    <span class="k">if</span> <span class="n">bull</span><span class="p">:</span>
        <span class="n">psarbull</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="c1"># Save falling SAR</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">psarbear</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">psar</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="momentum-indicators">
<h3>Momentum indicators<a class="headerlink" href="#momentum-indicators" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Momentum indicators help identify the speed of price movement by comparing prices
over time. Typically when there is a divergence between price and a momentum indicator,
it can signal a change in future prices.</div>
</div>
<div class="section" id="commodity-channel-index-cci">
<h4>Commodity Channel Index (CCI)<a class="headerlink" href="#commodity-channel-index-cci" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Commodity Channel Index (CCI) helps identify price reversals, price extremes, and trend strength.</div>
</div>
<div class="line-block">
<div class="line">Developed by Donald Lambert, CCI is a momentum-based oscillator used to
help determine when an investment vehicle is reaching a condition of
being <strong>overbought or oversold</strong>. It is also used to assess price
trend direction and strength. This information allows traders
to determine if they want to enter or exit a trade, refrain
from taking a trade, or add to an existing position.</div>
</div>
<p>The formula for calculating CCI is given as follow.</p>
<div class="math notranslate nohighlight">
\[\text{CCI} = \frac{(\text{Typical Price} - \text{x-period SMA of TP})}{(\text{Constant} \times \text{Mean Deviation})}\]</div>
<div class="line-block">
<div class="line">where:</div>
</div>
<ul class="simple">
<li><p>Typical Price (TP) = (High + Low + Close) / 3</p></li>
<li><p>Constant = 0.015</p></li>
<li><p>x = Window size (default set as 20)</p></li>
<li><p>SMA: Simple Moving Average</p></li>
</ul>
<div class="line-block">
<div class="line">We could first compute the the subcomponents of CCI:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">signals</span><span class="p">[</span><span class="s1">&#39;Typical price&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="mi">3</span>

<span class="n">signals</span><span class="p">[</span><span class="s1">&#39;SMA&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">signals</span><span class="p">[</span><span class="s1">&#39;Typical price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span>
                 <span class="n">window</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">window_size</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">signals</span><span class="p">[</span><span class="s1">&#39;mean_deviation&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">signals</span><span class="p">[</span><span class="s1">&#39;Typical price&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span>
                            <span class="n">window</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Then calculate CCI using the formula:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">signals</span><span class="p">[</span><span class="s1">&#39;CCI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">signals</span><span class="p">[</span><span class="s1">&#39;Typical price&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">signals</span><span class="p">[</span><span class="s1">&#39;SMA&#39;</span><span class="p">])</span> <span class="o">/</span>
                 <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">constant</span> <span class="o">*</span> <span class="n">signals</span><span class="p">[</span><span class="s1">&#39;mean_deviation&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>A simple strategy formulated by using CCI is (the thresholds only serve as examples:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: when CCI surges above +100</p></li>
<li><p><strong>Sell signal</strong>: when CCI plunges below -100</p></li>
</ul>
</div>
<div class="line-block">
<div class="line">To implement this rule in code:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Generate buy signal</span>
<span class="n">signals</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">signals</span><span class="p">[</span><span class="s1">&#39;CCI&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;signal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>

<span class="c1"># Generate sell signal</span>
<span class="n">signals</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">signals</span><span class="p">[</span><span class="s1">&#39;CCI&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="o">-</span><span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;signal&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
</pre></div>
</div>
</div>
<div class="section" id="relative-strength-index-rsi">
<h4>Relative Strength Index (RSI)<a class="headerlink" href="#relative-strength-index-rsi" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Relative Strength Index (RSI) measures recent trading strength, velocity of change in the trend,
and magnitude of the move.</div>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\text{RSI} = 100 - \frac{100}{(1 + \text{RS})} \\ \\
\text{RS} = \frac{\text{Average Gain}}{\text{Average Loss}} \\\end{split}\]</div>
<p>where <strong>Average Gain</strong> and <strong>Average Loss</strong> are calculated as follows:</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{split}\text{First Average Gain} = \frac{\text{Sum of gains over the past 14 periods}}{14} \\ \\
\text{First Average Loss} = \frac{\text{Sum of losses over the past 14 periods}}{14} \\ \\\end{split}\\\begin{split}\text{Average Gain} = \frac{\text{Previous average gain} \times 13 + \text{Current gain}}{14} \\ \\
\text{Average Loss} = \frac{\text{Previous average loss} \times 13 + \text{Current loss}}{14} \\ \\\end{split}\end{aligned}\end{align} \]</div>
<div class="line-block">
<div class="line">Note that the first calculations are just simple 14-period averages. Subsequent averages
take the prior value plus the current value to compute the average. This is a smoothing technique
similar to that used in calculating an exponential moving average. Thus, the RSI values become
more accurate as the calculation period extends.</div>
</div>
<p>In the dataset, we need to extract gains and losses from the price column respectively:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get adjusted close column</span>
<span class="n">close</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span>

<span class="c1"># Get the difference in price from previous step</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">close</span><span class="o">.</span><span class="n">diff</span><span class="p">()</span>
<span class="c1"># Get rid of the first row</span>
<span class="n">delta</span> <span class="o">=</span> <span class="n">delta</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>

<span class="c1"># Make the positive gains (up) and negative gains (down) series</span>
<span class="n">up</span><span class="p">,</span> <span class="n">down</span> <span class="o">=</span> <span class="n">delta</span><span class="o">.</span><span class="n">copy</span><span class="p">(),</span> <span class="n">delta</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">up</span><span class="p">[</span><span class="n">up</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">down</span><span class="p">[</span><span class="n">down</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<p>To calculate RS, as well as RSI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Calculate SMA using &#39;rolling&#39; function</span>
<span class="n">roll_up</span> <span class="o">=</span> <span class="n">up</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window_size</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">roll_down</span> <span class="o">=</span> <span class="n">down</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window_size</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Calculate RSI based on SMA</span>
<span class="n">RS</span> <span class="o">=</span> <span class="n">roll_up</span> <span class="o">/</span> <span class="n">roll_down</span>
<span class="n">RSI</span> <span class="o">=</span> <span class="mf">100.0</span> <span class="o">-</span> <span class="p">(</span><span class="mf">100.0</span> <span class="o">/</span> <span class="p">(</span><span class="mf">1.0</span> <span class="o">+</span> <span class="n">RS</span><span class="p">))</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">The output of the RSI is a number on a scale <strong>from 0 to 100</strong> and it is
typically calculated on a 14-day basis. To generate the trading signals,
it is common to <strong>specify the low and high levels of the RSI</strong> (e.g. at 30 and 70 respectively).
The interpretation of the thresholds is that the lower one
indicates that the asset is oversold, and the upper one that the asset is
overbought.</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Oversold</strong>: when RSI crosses the lower threshold (e.g. 30)</p></li>
<li><p><strong>Overbought</strong>: when RSI crosses the upper threshold (e.g. 70)</p></li>
</ul>
</div>
</div>
<div class="section" id="rate-of-change-roc">
<h4>Rate of Change (ROC)<a class="headerlink" href="#rate-of-change-roc" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Rate of Change (ROC) measures the strength of price momentum.</div>
</div>
<div class="line-block">
<div class="line"><strong>Positive values</strong> of the ROC indicates upward buying pressure or momentum, while
<strong>negative values</strong> below zero indicate selling pressure or downward momentum.
Increasing values in either direction, positive or negative, indicate increasing momentum,
and decreasing values indicate waning momentum.</div>
</div>
<div class="math notranslate nohighlight">
\[\text{ROC} =
\frac{(\text{Closing price} - \text{Closing price n periods ago})}{(\text{Closing price n periods ago})} \times 100\]</div>
<p>As you could see from above, it’s just the simple percentage change formula.</p>
<p>We could identify overbought and oversold conditions using ROC:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Oversold</strong>: when ROC crosses the lower threshold (e.g. -30)</p></li>
<li><p><strong>Overbought</strong>: when ROC crosses the upper threshold (e.g. +30)</p></li>
</ul>
</div>
<p>And here is one of the possible ways to calculate ROC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">12</span> <span class="c1"># set time period</span>

<span class="n">diff</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Calculate closing price n periods ago</span>
<span class="n">closing</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;ROC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">diff</span> <span class="o">/</span> <span class="n">closing</span><span class="p">)</span> <span class="o">*</span> <span class="mi">100</span>
</pre></div>
</div>
</div>
<div class="section" id="stochastic-oscillator-stc">
<h4>Stochastic Oscillator (STC)<a class="headerlink" href="#stochastic-oscillator-stc" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Stochastic Oscillators (STC) are used to predict price turning points by comparing the closing price to its price range.</div>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\text{%K} &amp;= \frac{\text{Current Close} - \text{Lowest Low})}{\text{Highest High} - \text{Lowest Low}} \times 100 \\
\\
\text{%D} &amp;= \text{3-day SMA of %K}\end{split}\]</div>
<div class="line-block">
<div class="line">where:</div>
</div>
<ul class="simple">
<li><p>Lowest Low = lowest low for the look-back period</p></li>
<li><p>Highest High = highest high for the look-back period</p></li>
</ul>
<p>Note that in the formula %K is multiplied by 100 so as to move the decimal point by two places.</p>
<div class="line-block">
<div class="line">We could traverse the dataframe and store all highests highs, lowest lows in two separate arrays:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array_highest</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">length</span> <span class="c1"># store highest highs</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
    <span class="n">highest</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">13</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> <span class="c1"># k-day lookback period</span>
        <span class="k">if</span> <span class="n">array_high</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">highest</span><span class="p">:</span>
            <span class="n">highest</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
    <span class="n">array_highest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">highest</span>

<span class="n">array_lowest</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">length</span> <span class="c1"># store lowest lows</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
    <span class="n">lowest</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">13</span><span class="p">,</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span> <span class="c1"># k-day lookback period</span>
        <span class="k">if</span> <span class="n">array_low</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">lowest</span><span class="p">:</span>
            <span class="n">lowest</span> <span class="o">=</span> <span class="n">array_low</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
    <span class="n">array_lowest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">lowest</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Then, we can calculate %K and %D:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># find %K line values</span>
<span class="n">kvalues</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">length</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
    <span class="n">k</span> <span class="o">=</span> <span class="p">((</span><span class="n">array_close</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">array_lowest</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="n">array_highest</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">array_lowest</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">kvalues</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;%K&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kvalues</span>

<span class="c1"># find %D line values</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;%D&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;%K&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">A strategy established with %K and %D is as follows:</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: when %K line crosses above the %D line</p></li>
<li><p><strong>Sell signal</strong>: when %K line crosses below the %D line</p></li>
</ul>
</div>
</div>
<div class="section" id="true-strength-index-tsi">
<h4>True Strength Index (TSI)<a class="headerlink" href="#true-strength-index-tsi" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The True Strength Index (TSI) is a momentum oscillator based on a double smoothing of price changes.
By smoothing price changes, it captures the ebbs and flows of price action with a steadier line that
tries to filter out noises.</div>
</div>
<div class="math notranslate nohighlight">
\[\text{TSI} = \frac{\text{Double Smoothed PC}}{\text{Double Smoothed Absolute PC}} \times 100\]</div>
<div class="line-block">
<div class="line">where:</div>
</div>
<p><strong>(i) Double Smoothed Price Change (PC)</strong></p>
<ul class="simple">
<li><p>PC = Current Price - Prior Price</p></li>
<li><p>First Smoothing = 25-period EMA of PC</p></li>
<li><p>Second Smoothing = 13-period EMA of 25-period EMA of PC</p></li>
</ul>
<p><strong>(ii) Double Smoothed Absolute Price Change (PC)</strong></p>
<ul class="simple">
<li><p>Absolute Price Change | PC | = Absolute Value of Current Price minus Prior Price</p></li>
<li><p>First Smoothing = 25-period EMA of | PC |</p></li>
<li><p>Second Smoothing = 13-period EMA of 25-period EMA of | PC |</p></li>
</ul>
<p>Based on the above formulae, the code is shown as follow:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Double Smoothed PC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pc</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span>
                                <span class="n">span</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Double Smoothed Abs PC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">pc</span><span class="p">)</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">span</span><span class="o">=</span><span class="mi">25</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span>
                                    <span class="n">span</span><span class="o">=</span><span class="mi">13</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;TSI&#39;</span><span class="p">]</span> <span class="o">=</span>  <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Double Smoothed PC&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Double Smoothed Abs PC&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">100</span>
</pre></div>
</div>
<p>In order to interpret the TSI, we could define a signal line:</p>
<div class="math notranslate nohighlight">
\[\text{Signal line} = \text{10-period EMA of TSI}\]</div>
<p>And we could observe signal line crossovers:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: when TSI crosses above the signal line from below</p></li>
<li><p><strong>Sell signal</strong>: when TSI crosses below the signal line from above</p></li>
</ul>
</div>
</div>
<div class="section" id="money-flow-index-mfi">
<h4>Money Flow Index (MFI)<a class="headerlink" href="#money-flow-index-mfi" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Money Flow Index (MFI) is an oscillator that generates overbought or
oversold signals using both prices and volume data.</div>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\text{Money Flow Index} &amp;= 100 - \frac{100}{(1 + \text{Money Flow Ratio})} \\
\\
\text{Raw Money Flow} &amp;= \text{Typical Price} \times \text{Volume} \\
\\
\text{Typical Price} &amp;= \frac{(\text{High} + \text{Low} + \text{Close})}{3} \\
\\
\text{Money Flow Ratio} &amp;= \frac{\text{14-period Positive Money Flow}}{\text{14-period Negative Money Flow}} \\\end{split}\]</div>
<p>It is pretty straightforward to calculate typical price:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Typical price</span>
<span class="n">tp</span> <span class="o">=</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="mf">3.0</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">With regards to the positive and negative money flows, we will first want to compute the raw money flow,
then label which of them belong to positive / negative respectively:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># positive = 1, negative = -1</span>
<span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Sign&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">tp</span> <span class="o">&gt;</span> <span class="n">tp</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">tp</span> <span class="o">&lt;</span> <span class="n">tp</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>

<span class="c1"># Raw money flow</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Money flow&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">tp</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Sign&#39;</span><span class="p">]</span>

<span class="c1"># Positive money flow with n periods</span>
<span class="n">n_positive_mf</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Money flow&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span>
                <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">x</span> <span class="o">&gt;=</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)),</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Negative money flow with n periods</span>
<span class="n">n_negative_mf</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Money flow&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span>
                <span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">)),</span> <span class="n">raw</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
</pre></div>
</div>
<p>With the money flows, it would be easy to compute the MFI:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mf_ratio</span> <span class="o">=</span> <span class="n">n_positive_mf</span> <span class="o">/</span> <span class="n">n_negative_mf</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;MFI&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="mi">100</span> <span class="o">-</span> <span class="p">(</span><span class="mi">100</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">mf_ratio</span><span class="p">)))</span>
</pre></div>
</div>
<p>By way of example, we could use MFI to identify overbought and oversold conditions:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Oversold</strong>: when MFI crosses the upper threshold</p></li>
<li><p><strong>Overbought</strong>: when MFI crosses the lower threshold</p></li>
</ul>
</div>
</div>
<div class="section" id="william-r">
<h4>William %R<a class="headerlink" href="#william-r" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">William %R reflects the level of the close relative to the highest high for the look-back period.</div>
</div>
<div class="math notranslate nohighlight">
\[\text{%R} = \frac{\text{Highest High} - \text{Close}}{\text{Highest High} - \text{Lowest Low}} \times -100\]</div>
<div class="line-block">
<div class="line">where:</div>
</div>
<ul class="simple">
<li><p>Lowest Low = lowest low for the look-back period</p></li>
<li><p>Highest High = highest high for the look-back period</p></li>
</ul>
<div class="line-block">
<div class="line">Note that in the formula, %R is multiplied by -100 to correct the inversion and move the decimal.
The default setting for the lookback period is 14, which can be days, weeks, months or an intraday timeframe.</div>
</div>
<p>The code for implementing %R is shown as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lbp</span> <span class="o">=</span> <span class="mi">14</span> <span class="c1"># set lookback period</span>

<span class="n">hh</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">lbp</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>  <span class="c1"># highest high over lookback period</span>
<span class="n">ll</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">lbp</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>  <span class="c1"># lowest low over lookback period</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;%R&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="o">-</span><span class="mi">100</span> <span class="o">*</span> <span class="p">(</span><span class="n">hh</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">])</span> <span class="o">/</span> <span class="p">(</span><span class="n">hh</span> <span class="o">-</span> <span class="n">ll</span><span class="p">)</span>
</pre></div>
</div>
<p>Similarly, we could use %R to identify overbought and oversold conditions:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Oversold</strong>: when %R goes below -80</p></li>
<li><p><strong>Overbought</strong>: when %R goes above -20</p></li>
</ul>
</div>
</div>
</div>
<div class="section" id="volatility-indicators">
<h3>Volatility indicators<a class="headerlink" href="#volatility-indicators" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">These indicators measure the rate of price movement, regardless of direction.
Generally, they are based on a change in the highest and lowest historical prices.
They provide useful information about the range of buying and selling that takes
place in a given market, and help traders determine points where the market may change direction.</div>
</div>
<div class="section" id="bollinger-bands">
<h4>Bollinger Bands<a class="headerlink" href="#bollinger-bands" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Bollinger Bands indicator is used to measure the “highness” or “lowness” of the price,
relative to previous trades.</div>
</div>
<div class="line-block">
<div class="line">The Bollinger Bands consist of a middle band with two outer bands:</div>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\text{Middle Band} &amp;= \text{20-day simple moving average (SMA)} \\
\text{Upper Band} &amp;= \text{20-day SMA} + (\text{20-day standard deviation of price} \times 2) \\
\text{Lower Band} &amp;= \text{20-day SMA} - (\text{20-day standard deviation of price} \times 2)\end{split}\]</div>
<div class="line-block">
<div class="line">We could first compute the middle band and the 20-day standard deviation:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">window</span> <span class="o">=</span> <span class="mi">20</span>

<span class="c1"># Compute middle band</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Middle band&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="c1"># Compute 20-day s.d.</span>
<span class="n">mstd</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Then we could get the outer bands:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Computer upper and lower bands</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Upper band&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Middle band&#39;</span><span class="p">]</span>  <span class="o">+</span> <span class="n">mstd</span> <span class="o">*</span> <span class="mi">2</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Lower band&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Middle band&#39;</span><span class="p">]</span>  <span class="o">-</span> <span class="n">mstd</span> <span class="o">*</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">The signals could be derived from observing the below conditions:</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: when price goes below lower band</p></li>
<li><p><strong>Sell signal</strong>: when price goes above upper band</p></li>
</ul>
</div>
</div>
<div class="section" id="average-true-range">
<h4>Average True Range<a class="headerlink" href="#average-true-range" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Average True Range (ATR) is an indicator that tries to measure the degree of price volatility.</div>
</div>
<div class="math notranslate nohighlight">
\[\text{Current ATR} = \frac{(Prior ATR \times 13) + Current TR}{n}\]</div>
<div class="line-block">
<div class="line">where:</div>
</div>
<ul class="simple">
<li><p>1st True Range (TR) value = High - Low</p></li>
<li><p>1st n-day ATR = average of the daily TR values for the last n days</p></li>
</ul>
<div class="line-block">
<div class="line">The True Range could be computed by:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">array_high</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">])</span>
<span class="n">array_low</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">])</span>

<span class="n">tr</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="c1"># initialisation</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
    <span class="n">tr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">array_high</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">array_low</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">We would first calculate the first n-day ATR:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">atr</span> <span class="o">=</span> <span class="p">[</span><span class="kc">None</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">)</span> <span class="c1"># initialisation</span>
<span class="n">window</span> <span class="o">=</span> <span class="mi">14</span>

<span class="n">atr</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">tr</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">15</span><span class="p">])</span> <span class="o">/</span> <span class="n">window</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Then for the following ATRs:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">)):</span>
    <span class="n">atr</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">atr</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">window</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">tr</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="o">/</span> <span class="n">window</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">We could determine whether the stock is <strong>highly volatile</strong> by checking the following conditions:</div>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\text{50-day EMA} &amp;&gt; \text{200-day EMA} \\
\\
&amp;\textbf{AND} \\
\\
\frac{\text{250-day ATR}}{\text{20-day SMA}} &amp;\times 100 &lt; 4\end{split}\]</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We could use ATR to filter out stocks that are <strong>highly volatile</strong>.</p>
</div>
</div>
<div class="section" id="standard-deviation">
<h4>Standard Deviation<a class="headerlink" href="#standard-deviation" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">Standard Deviation measures expected risk and determines the significance of certain price movements.</div>
</div>
<p>As an example, we could set <code class="code docutils literal notranslate"><span class="pre">window=21</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">window</span> <span class="o">=</span> <span class="mi">21</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;SD&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rolling</span><span class="p">(</span><span class="n">window</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">(</span><span class="n">ddof</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We could use Standard Deviation to measure the <strong>expected risk</strong> of stocks.</p>
</div>
</div>
</div>
<div class="section" id="volume-indicators">
<h3>Volume indicators<a class="headerlink" href="#volume-indicators" title="Permalink to this headline">¶</a></h3>
<div class="line-block">
<div class="line">Volume indicators measure the strength of a trend or confirm a trading direction
based on some form of averaging or smoothing of raw volume. The strongest
trends often occur while volume increases; in other words, some would assume that
it is the increase in trading volume that can lead to large movements in price.</div>
</div>
<div class="section" id="chaikin-oscillator">
<h4>Chaikin Oscillator<a class="headerlink" href="#chaikin-oscillator" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Chaikin Oscillator indicator monitors the flow of money in and out of the market.
By comparing money flow to price action, it helps identify tops and bottoms in short and intermediate cycles.</div>
</div>
<div class="math notranslate nohighlight">
\[\begin{split}\text{Chaikin Oscillator} &amp;= \text{3-day EMA of ADL} - \text{10-day EMA of ADL} \\
\\
\text{Accumulation Distribution Line (ADL)} &amp;= \text{Previous ADL} \\
&amp;+ \text{Current Period's Money Flow Volume} \\
\\
\text{Money Flow Volume} &amp;= \text{Money Flow Multiplier} \\
&amp;\times \text{Volume for the Period} \\
\\
\text{Money Flow Multiplier} &amp;= \frac{(\text{Close} - \text{Low}) - (\text{High} - \text{Close})}{(\text{High} - \text{Low})}\end{split}\]</div>
<div class="line-block">
<div class="line">We would first calculate the Money Flow Multiplier:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;MFM&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">])</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">])</span>
            <span class="o">/</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;High&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Low&#39;</span><span class="p">])</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Then use it to calculate Money Flow Volume:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;MFV&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;MFM&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">]</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">Following, we could compute ADL and the Chaikin Oscillator:</div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;ADL&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;MFV&#39;</span><span class="p">]</span>

<span class="n">short_w</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">long_w</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">ema_long</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ADL&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">ignore_na</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="n">short_w</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">ema_short</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;ADL&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">ewm</span><span class="p">(</span><span class="n">ignore_na</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">min_periods</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">com</span><span class="o">=</span><span class="n">long_w</span><span class="p">,</span> <span class="n">adjust</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Chaikin&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ema_short</span> <span class="o">-</span> <span class="n">ema_long</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">We could establish the following simple strategy, as an example:</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: when the oscillator is positive</p></li>
<li><p><strong>Sell signal</strong>: when the oscillator is negative</p></li>
</ul>
</div>
</div>
<div class="section" id="on-balance-volume-obv">
<h4>On-Balance Volume (OBV)<a class="headerlink" href="#on-balance-volume-obv" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The On Balance Volume indicator attempts to measure the level of accumulation or
distribution by comparing volume to price movements.</div>
</div>
<p>The formula for OBC changes according to the following 3 cases:</p>
<p><strong>1) If closing price &gt; prior close price:</strong></p>
<div class="math notranslate nohighlight">
\[\text{Current OBV} = \text{Previous OBV} + \text{Current Volume}\]</div>
<p><strong>2) If closing price &lt; prior close price:</strong></p>
<div class="math notranslate nohighlight">
\[\text{Current OBV} = \text{Previous OBV} - \text{Current Volume}\]</div>
<p><strong>3) If closing price = prior close price then:</strong></p>
<div class="math notranslate nohighlight">
\[\text{Current OBV} = \text{Previous OBV (no change)}\]</div>
<p>We could traverse the dataframe, and use if-else statements to capture the 3 conditions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obv</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">)</span> <span class="c1"># for storing the on-balance volume</span>

<span class="n">array_close</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">])</span>
<span class="n">array_volume</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume&#39;</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">df</span><span class="p">)):</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">array_close</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">array_close</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">obv</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">obv</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">array_volume</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">array_close</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">array_close</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">obv</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">obv</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">array_volume</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">obv</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">obv</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<div class="line-block">
<div class="line">The absolute value of OBV is not important. We should instead focus on the characteristics of the OBV line
and its the trend.</div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p>A rising OBV reflects positive volume pressure that can lead to <strong>higher prices</strong></p></li>
<li><p>A falling OBV reflects negative volume pressure that can foreshadow <strong>lower prices</strong></p></li>
</ul>
</div>
</div>
<div class="section" id="volume-rate-of-change">
<h4>Volume Rate of Change<a class="headerlink" href="#volume-rate-of-change" title="Permalink to this headline">¶</a></h4>
<div class="line-block">
<div class="line">The Volume Rate of Change (Volume ROC) highlights increases in volume, which normally occurs
at most significant market tops, bottoms and breakouts.</div>
</div>
<div class="math notranslate nohighlight">
\[\text{Volume Rate of Change} = \frac{\text{Volume (today)} - \text{Volume (n days ago)}}{\text{Volume (n days ago)}}\]</div>
<p>The way of calculating Volume ROC is similar to ROC:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">=</span> <span class="mi">25</span> <span class="c1"># example time period</span>
<span class="n">df</span><span class="p">[</span><span class="s1">&#39;Volume ROC&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">((</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">n</span><span class="p">))</span> <span class="o">/</span>
                    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
</pre></div>
</div>
<p>Here is a simple example strategy based on Volume ROC:</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<ul class="simple">
<li><p><strong>Buy signal</strong>: if Volume ROC goes below zero</p></li>
<li><p><strong>Sell signal</strong>: if Volume ROC is negative</p></li>
</ul>
</div>
<p><strong>References</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.investopedia.com">Investopedia</a></p></li>
<li><p><a class="reference external" href="https://school.stockcharts.com">StockCharts</a></p></li>
<li><p><a class="reference external" href="https://virtualizedfrog.wordpress.com/2014/12/09/parabolic-sar-implementation-in-python/">Parabolic SAR</a></p></li>
</ul>
<p><strong>Image sources</strong></p>
<dl class="footnote brackets">
<dt class="label" id="id2"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>By Probe-meteo.com - Probe-meteo.com, CC BY-SA 3.0, <a class="reference external" href="https://commons.wikimedia.org/w/index.php?curid=26048221">https://commons.wikimedia.org/w/index.php?curid=26048221</a></p>
</dd>
</dl>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<div class="line-block">
<div class="line">All investments entail inherent risk. This repository seeks to solely educate
people on methodologies to build and evaluate algorithmic trading strategies.
All final investment decisions are yours and as a result you could make or lose money.</div>
</div>
</div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fundamental-analysis.html" class="btn btn-neutral float-right" title="Fundamental analysis" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data-science-basics.html" class="btn btn-neutral float-left" title="Data science basics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Angel Woo

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>